{%- extends 'base.html' -%}

{%- block page_content -%}
<div class="container">
  <div id="exercises-page" class="page">
    <h1 id="exercises-head">תרגילים</h1>
    <div id="exercises">
      {% for exercise in exercises %}
      <div class="exercise">
        <div class="right-side">
          <div class="exercise-id">{{ exercise['id'] }}</div>
          <div class="exercise-name"><div class="ex-title">{{ exercise['subject'] }}</div></div>
        </div>
        <div class="left-side">
          <div class="exercise-send">
            {%- if exercise['id'] not in solutions %}
            {% set details = {'page': 'upload', 'icon': 'upload', 'text': 'שלח', 'css': 'send'} %}
            {% elif not solutions[exercise['id']]['is_checked'] %}
            {% set details = {'page': 'view', 'icon': 'eye', 'text': 'הצצה', 'css': 'view'} %}
            {% else %}
            {% set details = {'page': 'view', 'icon': 'circle-check-o', 'text': 'לבדיקה', 'css': 'checked'} %}
            {% endif -%}
            <a class="our-button go-{{ details['css'] }}" href="{{ details['page'] }}/{{ exercise['id'] }}">
              <i class="fa fa-{{ details['icon'] }}" aria-hidden="true"></i> 
              {{ details['text'] }}
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{%- endblock -%}
